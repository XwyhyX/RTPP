<!DOCTYPE html>
<!-- saved from url=(0044)http://getbootstrap.com/examples/dashboard/# -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="http://getbootstrap.com/favicon.ico">

    <title>Real-Time Pace and Pulse Rate Assessment System Using Cloud Technology</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="http://getbootstrap.com/examples/dashboard/dashboard.css" rel="stylesheet">
	
	
	<!-- Test ONLY -->
	<link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <link type="text/css" rel="stylesheet" href="css/graph.css">
    <link type="text/css" rel="stylesheet" href="css/detail.css">
    <link type="text/css" rel="stylesheet" href="css/legend.css">
    <link type="text/css" rel="stylesheet" href="css/lines.css">

    <script src="vendor/d3.min.js"></script>
    <script src="vendor/d3.layout.min.js"></script>

    <script src="rickshaw.min.js"></script>
    <script src="vendor/moment.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.15/jquery-ui.min.js"></script>
    <script src="http://d23cj0cdvyoxg0.cloudfront.net/xivelyjs-1.0.3.min.js"></script> 
	
    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="./Dashboard Template for Bootstrap_files/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
			function updateOutput()
			 {	
				var form = document.getElementById("calc");
				var max = form.elements["TargetMax"];
				var trainmax = form.elements["TrainMax"];
				var trainmin = form.elements["TrainMin"];

				var num1 = parseInt(form.elements["age"].value);
				var num2 = parseInt(form.elements["rest"].value);
			    max.value = (205.8-(0.685*num1)).toFixed(0);
			    trainmax.value = (0.90*max.value).toFixed(0);
			    trainmin.value = (0.65*max.value).toFixed(0);
								
				var table = document.getElementById("range");
				var range1a = table.elements["1a"];
				var range1b = table.elements["1b"];
				var range2a = table.elements["2a"];
				var range2b = table.elements["2b"];
				var range3a = table.elements["3a"];
				var range3b = table.elements["3b"];
				var range4a = table.elements["4a"];
				var range4b = table.elements["4b"];


				range1a.value = ((205.8-(0.685*num1))*0.65).toFixed(0);
				range1b.value = ((205.8-(0.685*num1))*0.75).toFixed(0);
				range2a.value = ((205.8-(0.685*num1))*0.75).toFixed(0);
				range2b.value = ((205.8-(0.685*num1))*0.80).toFixed(0);
				range3a.value = ((205.8-(0.685*num1))*0.80).toFixed(0);
				range3b.value = ((205.8-(0.685*num1))*0.85).toFixed(0);
				range4a.value = ((205.8-(0.685*num1))*0.85).toFixed(0);
				range4b.value = ((205.8-(0.685*num1))*0.90).toFixed(0);




			 }
	</script>
	  <style type="text/css">
	  .auto-style1 {
		  font-size: 8px;
	  }
	  </style>
	  </head>

  <body>

    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="./Dashboard Template for Bootstrap_files/Dashboard Template for Bootstrap.html">Real-Time Pace and Pulse Rate Assessment System using Cloud Technology</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="./Dashboard Template for Bootstrap_files/Dashboard Template for Bootstrap.html">Dashboard</a></li>
            <li><a href="./Dashboard Template for Bootstrap_files/Dashboard Template for Bootstrap.html">Settings</a></li>
            <li><a href="./Dashboard Template for Bootstrap_files/Dashboard Template for Bootstrap.html">Profile</a></li>
            <li><a href="./Dashboard Template for Bootstrap_files/Dashboard Template for Bootstrap.html">Help</a></li>
          </ul>
          <form class="navbar-form navbar-right">
            <input type="text" class="form-control" placeholder="Search...">
          </form>
        </div>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-3 col-md-2 sidebar">
          <ul class="nav nav-sidebar">
            <li class="active"><a href="index.html">Overview <span class="sr-only">(current)</span></a></li>
            <li><a href="reports.html">Reports</a></li>
            <li><a href="./Dashboard Template for Bootstrap_files/Dashboard Template for Bootstrap.html">Zones</a></li>
            <li><a href="./Dashboard Template for Bootstrap_files/Dashboard Template for Bootstrap.html">Export</a></li>
          </ul>
          <!--
          <ul class="nav nav-sidebar">
            <li><a href="">Nav item</a></li>
            <li><a href="">Nav item again</a></li>
            <li><a href="">One more nav</a></li>
            <li><a href="">Another nav item</a></li>
            <li><a href="">More navigation</a></li>
          </ul>
          <ul class="nav nav-sidebar">
            <li><a href="">Nav item again</a></li>
            <li><a href="">One more nav</a></li>
            <li><a href="">Another nav item</a></li>
          </ul>
          -->
        </div>
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
        <h2 class="sub-header">User Info</h2>
				<form class="form-inline" id="calc" oninput="updateOutput()">
  				<div class="form-group">
   					 <label for="inputAge">Age</label>
   					 <input type="number" class="form-control" id="exampleInputEmail" name="age" value="20" min="2" max="120">
 				    					 <label for="inputRestingHeartRate">Resting Heart Rate</label>
    				<input type="number" class="form-control" id="exampleInputPassword1" name="rest" value="65">
    				<label for="disabledTextInput">Maximum Heart Rate</label>
     				 <output type="number" id="disabledTextInput" class="form-control-static" name="TargetMax" for="age rest" style="font-size: 28px; color: #FF0000;">192</output><br><br>
  								
				
     				 
     				
     				 <label for="disabledTextInput">Minimum Training <br>Heart Rate</label>
     				 <output type="number" id="disabledTextInput" class="form-control" name="TrainMin" for="age rest" style="font-size: 20px; color: #0066FF">125</output>
					 <img alt="" height="138" src="anigraf2.gif" width="305"><label for="disabledTextInput">Maximum Training <br>Heart Rate</label>
     				 <output type="number" id="disabledTextInput" class="form-control" name="TrainMax" for="age rest" style="font-size: 20px; color: #0066FF" >173</output>

					</div>
     				
				</form>   
				<h1 class="page-header">Dashboard</h1>

          <div class="row placeholders">
            <div class="col-md-6 col-md-6 ">
            	<h4>Latest Reading: <span id="myPulse"></span></h4>
            	<!--Remove Temporarily
              <img src="https://api.xively.com/v2/feeds/122670740/datastreams/Pulse.png?w=600&h=150&c=2188c5&g=true&t=PULSE&b=true&duration=1days&scale=Datastream&timezone=+08&l=Mapua">
              -->
               <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner" style="height: 150px">
      <div id="chart_container" >
          <div id="chart" style="height: 150px"></div>
          <div id="legend_container">
            <div id="smoother" title="Smoothing"></div>
            <div id="legend"></div>
          </div>
          <div id="slider"></div>
      </div>

      </section>
    </div>
                            
              
              <span class="text-muted">(BPM)</span>
              </div>
              
              <div class="row placeholders">
			<div class="col-md-6 col-md-6 ">
			<form class="form-inline" id="range">
			
					<label for="disabledTextInput">Aerobic Zone</label>
     				 <output type="number" id="disabledTextInput" class="form-control" name="1a" for="age rest">125</output>
     				 <label for="disabledTextInput">-</label>
     				 <output type="number" id="disabledTextInput" class="form-control" name="1b" for="age rest">144</output><br><br>
     				 
     				 <label for="disabledTextInput">Extensive Endurance</label>
     				 <output type="number" id="disabledTextInput" class="form-control" name="2a" for="age rest">144</output>
     				 <label for="disabledTextInput">-</label>
     				 <output type="number" id="disabledTextInput" class="form-control" name="2b" for="age rest">154</output><br><br>
     				 
     				 <label for="disabledTextInput">Intensive Endurance</label>
     				 <output type="number" id="disabledTextInput" class="form-control" name="3a" for="age rest">154</output>
     				 <label for="disabledTextInput">-</label>
     				 <output type="number" id="disabledTextInput" class="form-control" name="3b" for="age rest">163</output><br><br>
     				 
     				 <label for="disabledTextInput">Anaerobic Threshold</label>
     				 <output type="number" id="disabledTextInput" class="form-control" name="4a" for="age rest">163</output>
     				 <label for="disabledTextInput">-</label>
     				 <output type="number" id="disabledTextInput" class="form-control" name="4b" for="age rest">173</output><br><br>




			</form>
			
             <!-- <table id="table" class="table table-responsive">
              <thead>
              	<tr>
              		<th>Range</th>
              		<th>Definition</th>
              	</tr>
              </thead>
              <tbody>
              	<tr>
              		<td>50-60</td>
              		<td>Normal Zone</td>
              	</tr>
              	<tr>
              		<td>60-70 BPM</td>
              		<td>Slightly Active</td>
              	</tr>
              	<tr>
              		<td>70-90 BPM</td>
              		<td>Aerobic Zone</td>
              	</tr>
              	<tr>
              		<td>90-110 BPM</td>
              		<td>Exercise Zone</td>
              	</tr>


              </tbody>
              </table>-->
              </div>
              
            </div>
			
			<div class="row placeholders">
            <div class="col-md-6 col-md-6 ">
              <img src="https://api.xively.com/v2/feeds/122670740/datastreams/Steps.png?w=600&h=150&c=2188c5&g=true&t=Steps&b=true&duration=1days&scale=Datastream&timezone=+08&l=Mapua">
              <h4>Steps</h4>
              <span class="text-muted"></span>
              </div>
              
              <div class="row placeholders">
			<div class="col-md-6 col-md-6 ">

              <p class="lead"> Only _____ more steps to go!
              </p>
              <p class="lead">You have achieved ___% of your Step Goal for March 2, 2015.</p>
              </div>
              
            </div>
			

          
			       
        </div>
      </div>
    </div>
	
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!--<script src="./Dashboard Template for Bootstrap_files/jquery.min.js"></script> -->
    <script src="./Dashboard Template for Bootstrap_files/bootstrap.min.js"></script>
    <script src="./Dashboard Template for Bootstrap_files/docs.min.js"></script> 
    <script src="vendor/d3.min.js"></script>
    <script src="vendor/d3.layout.min.js"></script>

    <script src="rickshaw.min.js"></script>
    <script src="js/moment.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>   
    <script src="http://d23cj0cdvyoxg0.cloudfront.net/xivelyjs-1.0.4.min.js"></script>
    
    
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="./Dashboard Template for Bootstrap_files/ie10-viewport-bug-workaround.js"></script>
  	
  	<script>
  	xively.setKey( "oVtZfDth0bIF0G2Vm6UaxaoDux62U1Z5CBkAFIvecLCReTUV" );  
 
var startOfYesterday = moment().subtract("day", 1).startOf('day');
var endOfYesterday = moment().startOf('day');
 
console.log(startOfYesterday);
console.log(endOfYesterday);
 
var query = { 
  start: startOfYesterday.toJSON(), 
  end: endOfYesterday.toJSON(), 
  interval: 60, 
  limit: 1000 
};
 
xively.datastream.history( "122670740", "Pulse", query, loadData);  
 
function loadData(data) {  
  var unit = data.unit.label;
  var series = [];
  var filtedData = data.datapoints.filter(function(x) { return (x.value < 1000); });
  for (var i=0; i < filtedData.length; i++ ) {
    var date = moment(filtedData[i].at);
    var value = parseInt(filtedData[i].value);
    series[i] = {x: date.unix(), y: value};
  }
  drawGraph(series, unit);
}
 
function drawGraph(data, unit) {
  var graph = new Rickshaw.Graph( {
    element: document.querySelector("#chart"),
    width: 500,
    height: 150,
    renderer: 'line',
    series: [
      {
        data: data,
        color: '#6060c0',
        name: unit
      }
    ]
  } );
  graph.render();
 
  var hoverDetail = new Rickshaw.Graph.HoverDetail( {
    graph: graph
  } );
 
  var legend = new Rickshaw.Graph.Legend( {
    graph: graph,
    element: document.getElementById('legend')
  } );
 
  var shelving = new Rickshaw.Graph.Behavior.Series.Toggle( {
    graph: graph,
    legend: legend
  } );
 
 
  var axes = new Rickshaw.Graph.Axis.Time( {
    graph: graph
  });
  axes.render();
  
  var yAxis = new Rickshaw.Graph.Axis.Y({
      graph: graph
  });
 
  yAxis.render();
}
  	</script>
  	
  	<script>  
  	    
     // Make sure the document is ready to be handled  
    $(document).ready(function($) {  
      
      // Set the Xively API key  
    xively.setKey( "KG3fZO3I41OiP4pNbW0VuNfTlsdUzmBbnDaWOXRV4Dkt0NZy" ); 
     
      
      // Replace with your own values  
      var feedID        = 122670740,          // Feed ID  
          datastreamID  = "Pulse";       // Datastream ID  
          selector      = "#myPulse";   // Your element on the page  
      
      // Get datastream data from Xively  
      xively.datastream.get (feedID, datastreamID, function ( datastream ) {  
        // WARNING: This code is only executed when we get a response back from Xively,   
        // it will likely execute after the rest your script  
        //  
        // NOTE: The variable "datastream" will contain all the Datastream information   
        // as an object. The structure of Datastream objects can be found at:   
        // https://xively.com/dev/docs/api/quick_reference/api_resource_attributes/#datastream  
      
        // Display the current value from the datastream  
        $(selector).html( datastream["current_value"] );  
      
        // Getting realtime!   
        // The function associated with the subscribe method will be executed   
        // every time there is an update to the datastream  
        xively.datastream.subscribe( feedID, datastreamID, function ( event , datastream_updated ) {  
          // Display the current value from the updated datastream  
          $(selector).html( datastream_updated["current_value"] );  
        });  
      
      });  
      
      // WARNING: Code here will continue executing while we get the datastream data from Xively,   
      // use the function associated with datastream.get to work with the data   
      // once the request is complete  
    });  
     
    
     
    
  	</script> 

<div id="global-zeroclipboard-html-bridge" class="global-zeroclipboard-container" style="position: absolute; left: 0px; top: -9999px; width: 15px; height: 15px; z-index: 999999999;">      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="/assets/flash/ZeroClipboard.swf?noCache=1425138496877">         <param name="allowScriptAccess" value="sameDomain">         <param name="scale" value="exactfit">         <param name="loop" value="false">         <param name="menu" value="false">         <param name="quality" value="best">         <param name="bgcolor" value="#ffffff">         <param name="wmode" value="transparent">         <param name="flashvars" value="trustedOrigins=getbootstrap.com%2C%2F%2Fgetbootstrap.com%2Chttp%3A%2F%2Fgetbootstrap.com">         <embed src="/assets/flash/ZeroClipboard.swf?noCache=1425138496877" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="100%" height="100%" name="global-zeroclipboard-flash-bridge" allowscriptaccess="sameDomain" allowfullscreen="false" type="application/x-shockwave-flash" wmode="transparent" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="trustedOrigins=getbootstrap.com%2C%2F%2Fgetbootstrap.com%2Chttp%3A%2F%2Fgetbootstrap.com" scale="exactfit">                </object></div><svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200" preserveAspectRatio="none" style="visibility: hidden; position: absolute; top: -100%; left: -100%;"><defs></defs><text x="0" y="10" style="font-weight:bold;font-size:10pt;font-family:Arial, Helvetica, Open Sans, sans-serif;dominant-baseline:middle">200x200</text></svg></body></html>
